$gutter: $gap-regular * 2
$gutter-mobile: $gap-small * 2

.venom
  .grid
    $self: '.grid'
    $column: #{$self + '__column'}

    &__row
      +clearfix
      align-content: space-around
      display: flex
      flex-direction: row
      flex-flow: row wrap
      justify-content: space-between
      max-width: 100%
      padding: $zero
      width: 100%

      &--is-reverse
        flex-direction: row-reverse

      #{ $column }
        &:not(:last-child)
          margin-right: $gutter / 2

        &:not(:first-child)
          margin-left: $gutter / 2

    &__columns
      +clearfix
      align-content: space-around
      display: flex
      flex-direction: column
      flex-flow: column nowrap
      justify-content: space-between
      max-width: 100%
      padding: $zero
      width: 100%

      &--is-reverse
        flex-direction: column-reverse

      #{ $column }
        margin-left: $zero
        margin-right: $zero

        &:not(:last-child)
          margin-bottom: $gutter / 2

        &:not(:first-child)
          margin-top: $gutter / 2

    &__column
      display: block
      flex-basis: 0
      flex-grow: 1
      flex-shrink: 1
      flex: 1
      padding: $zero

      &--is-first
        order: -1

      &--is-last
        order: 1

      @each $name, $count in $numbers
        &#{$column}--is-#{$name}
          width: ($column-width * $count) + (($count - 1) * $gutter)
          flex: none

          &-offset
            margin-left: ($column-width * $count) + (($count - 1) * $gutter)