$column: '.grid__column'
$columns: '.grid__columns'
$row: '.grid__row'

.venom
  .grid
    $self: &

    &__row
      +clearfix
      align-content: space-around
      display: flex
      flex-direction: row
      flex-flow: row wrap
      justify-content: space-between
      max-width: 100%
      padding: $zero
      width: 100%
      margin: $gap-regular $zero

      &--is-reverse
        flex-direction: row-reverse

      #{ $column }
        &:not(:last-child)
          margin-right: $desktop-column-gap

        &:not(:first-child)
          margin-left: $desktop-column-gap

      &--has-no-gutter
        #{ $column }
          margin-left: $zero !important
          margin-right: $zero !important

    &__columns
      +clearfix
      align-content: space-around
      display: flex
      flex-direction: column
      flex-flow: column wrap
      justify-content: space-between
      max-width: 100%
      padding: $gap-regular $zero
      width: 100%
      margin: $zero

      &--is-reverse
        flex-direction: column-reverse

      #{ $column }
        &:not(:last-child)
          margin-bottom: $desktop-column-gap

        &:not(:first-child)
          margin-top: $desktop-column-gap

      &--has-no-gutter
        #{ $column }
          margin-top: $zero !important
          margin-bottom: $zero !important

    &__column
      display: block
      flex-basis: 0
      flex-grow: 1
      flex-shrink: 1
      flex: 1
      padding: $zero
      min-height: 1px

      &--has-gutter
        padding: $desktop-column-gap

      &--is-first
        order: -1

      &--is-last
        order: 1

      @each $name, $count in $numbers
        &--is-#{$name}
          flex: 0 0 $count
          max-width: $count

          &-offset
            margin-left: $count

  +for-size(mobile)
    #{ $columns }
      padding: $gap-small
      margin: $zero

      #{ $column }
        &:not(:last-child)
          margin-bottom: $mobile-column-gap

        &:not(:first-child)
          margin-top: $mobile-column-gap

    #{ $row }
      padding: $gap-small
      margin: $zero

      #{ $column }
        &:not(:last-child)
          margin-right: $mobile-column-gap

        &:not(:first-child)
          margin-left: $mobile-column-gap

    @each $name, $count in $numbers
      &--is-#{$name}-mobile
        flex: 0 0 $count !important
        max-width: $count !important

        &-offset
          margin-left: $count  !important

  +for-size(tablet)
    @each $name, $count in $numbers
      &--is-#{$name}-tablet
        flex: 0 0 $count !important
        max-width: $count !important

        &-offset
          margin-left: $count  !important
